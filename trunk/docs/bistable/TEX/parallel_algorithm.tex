\begin{algorithm}
  \SetKwData{NumSamples}{numberOfSamples}\SetKwData{MaxIter}{maxIterations}\SetKwData{NumColors}{numberOfColors}\SetKwData{Stable}{stable}
  \SetKwFunction{MemcpyToGPU}{MemcpyToGPU}\SetKwFunction{MemcpyToCPU}{MemcpyToCPU}\SetKwFunction{UpdateInputs}{UpdateInputsKernel}
  \SetKwFunction{BistableKernel}{BistableKernel}\SetKwFunction{StabCheck}{StabilityChecking}
  \SetKwInOut{Input}{input}\SetKwInOut{Output}{output}\SetKw{KwAnd}{and not}
  \SetKwFor{While}{while}{do}{endw}
  \Input{A bitmap $Im$ of size $w\times l$}
  \Output{A partition of the bitmap}
  \BlankLine
  \emph{special treatment of the first line}\;
  \MemcpyToGPU{}\;
  \For{$j\leftarrow$ \KwTo \NumSamples}
  {
    \UpdateInputs{$polarizations, inputIdxs, j$}\;
    $i \leftarrow 0$\;
    \While{$i<$\MaxIter  \KwAnd $stable$}
    {
     \For{$k \leftarrow o$ \KwTo \NumColors}{
      \BistableKernel{$pol,clK,eK,nbIdxs,stabArray,colors,k$}\;
      }
    \MemcpyToCPU{$stabArray$}\;
    $stable$ $\leftarrow$ \StabCheck{$stabArray$}\;
    }
    \MemcpyToCPU($outputs$)\;
  }
  
  \caption{disjoint decomposition}\label{algo_disjdecomp}
\end{algorithm}
